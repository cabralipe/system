<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Notifica√ß√£o - Alunos PCD/Neurodivergentes</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 600px;
            margin: 0 auto;
        }
        .container {
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        .header {
            background-color: #6f42c1;
            color: white;
            padding: 15px 20px;
            text-align: center;
            border-radius: 5px 5px 0 0;
            margin: -20px -20px 20px -20px;
        }
        .footer {
            background-color: #f5f5f5;
            padding: 15px 20px;
            text-align: center;
            font-size: 0.9em;
            color: #777;
            border-radius: 0 0 5px 5px;
            margin: 20px -20px -20px -20px;
        }
        .info-block {
            background-color: #f8f9fa;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
            border-left: 4px solid #6f42c1;
        }
        .alert {
            background-color: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
            padding: 12px;
            border-radius: 4px;
            margin: 15px 0;
        }
        .student-card {
            background-color: #ffffff;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .student-name {
            font-weight: bold;
            color: #495057;
            font-size: 1.1em;
            margin-bottom: 8px;
        }
        .need-type {
            background-color: #6f42c1;
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.85em;
            display: inline-block;
            margin-bottom: 8px;
        }
        .description {
            color: #6c757d;
            font-style: italic;
            margin-top: 5px;
        }
        .materials-list {
            background-color: #e7f3ff;
            padding: 10px;
            border-radius: 4px;
            margin-top: 8px;
        }
        .materials-list ul {
            margin: 0;
            padding-left: 20px;
        }
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background-color: #6f42c1;
            color: white;
            text-decoration: none;
            border-radius: 5px;
            margin-top: 15px;
            text-align: center;
        }
        .icon {
            color: #6f42c1;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h2>üéØ Notifica√ß√£o Importante - Monitor</h2>
            <p style="margin: 0; font-size: 0.9em;">Alunos PCD/Neurodivergentes no Agendamento</p>
        </div>
        
        <p>Ol√°, <strong>{{ monitor.nome_completo }}</strong>!</p>
        
        <div class="alert">
            <strong>‚ö†Ô∏è Aten√ß√£o:</strong> O agendamento que voc√™ ir√° monitorar possui alunos com necessidades especiais que requerem aten√ß√£o diferenciada.
        </div>
        
        <div class="info-block">
            <h3 style="margin-top: 0; color: #6f42c1;">üìÖ Detalhes do Agendamento</h3>
            <p><strong>Evento:</strong> {{ evento.nome }}</p>
            <p><strong>Data:</strong> {{ horario.data.strftime('%d/%m/%Y') }}</p>
            <p><strong>Hor√°rio:</strong> {{ horario.horario_inicio.strftime('%H:%M') }} √†s {{ horario.horario_fim.strftime('%H:%M') }}</p>
            <p><strong>Professor Respons√°vel:</strong> {{ agendamento.professor.nome if agendamento.professor else 'N√£o informado' }}</p>
            <p><strong>Escola:</strong> {{ agendamento.escola_nome }}</p>
        </div>
        
        <h3 style="color: #6f42c1;">üë• Alunos com Necessidades Especiais ({{ alunos_pcd|length }})</h3>
        
        {% for aluno, necessidade in alunos_pcd %}
        <div class="student-card">
            <div class="student-name">{{ aluno.nome }}</div>
            
            <div class="need-type">
                {% if necessidade.tipo == 'pcd_fisica' %}
                    ü¶Ω PCD F√≠sica
                {% elif necessidade.tipo == 'pcd_visual' %}
                    üëÅÔ∏è PCD Visual
                {% elif necessidade.tipo == 'pcd_auditiva' %}
                    üëÇ PCD Auditiva
                {% elif necessidade.tipo == 'pcd_intelectual' %}
                    üß† PCD Intelectual
                {% elif necessidade.tipo == 'neurodivergente_autismo' %}
                    üß© Neurodivergente - Autismo
                {% elif necessidade.tipo == 'neurodivergente_tdah' %}
                    ‚ö° Neurodivergente - TDAH
                {% elif necessidade.tipo == 'neurodivergente_dislexia' %}
                    üìñ Neurodivergente - Dislexia
                {% elif necessidade.tipo == 'neurodivergente_outros' %}
                    üåü Neurodivergente - Outros
                {% else %}
                    ‚ÑπÔ∏è {{ necessidade.tipo|title }}
                {% endif %}
            </div>
            
            <div class="description">
                <strong>Descri√ß√£o:</strong> {{ necessidade.descricao }}
            </div>
            
            {% if aluno.materiais_apoio %}
            <div class="materials-list">
                <strong>üõ†Ô∏è Materiais de Apoio Solicitados:</strong>
                <ul>
                    {% for material in aluno.materiais_apoio %}
                    <li>{{ material.nome }} - {{ material.descricao }}</li>
                    {% endfor %}
                </ul>
            </div>
            {% endif %}
        </div>
        {% endfor %}
        
        <div class="info-block">
            <h4 style="margin-top: 0; color: #6f42c1;">üìã Orienta√ß√µes Importantes</h4>
            <ul>
                <li><strong>Chegue com anteced√™ncia</strong> para se preparar adequadamente</li>
                <li><strong>Verifique os materiais de apoio</strong> solicitados antes do in√≠cio da visita</li>
                <li><strong>Mantenha aten√ß√£o especial</strong> aos alunos com necessidades especiais</li>
                <li><strong>Comunique-se com o professor respons√°vel</strong> sobre qualquer d√∫vida</li>
                <li><strong>Tenha paci√™ncia e empatia</strong> - cada aluno tem seu ritmo e necessidades</li>
                <li><strong>Em caso de emerg√™ncia</strong>, contate imediatamente a coordena√ß√£o</li>
            </ul>
        </div>
        
        <div class="alert">
            <strong>üí° Lembre-se:</strong> Sua aten√ß√£o e cuidado fazem toda a diferen√ßa na experi√™ncia desses alunos. Obrigado por seu comprometimento!
        </div>
        
        <center>
            <a href="{{ url_for('agendamento_routes.detalhes_agendamento', agendamento_id=agendamento.id, _external=True) }}" class="btn">
                üìã Ver Detalhes Completos do Agendamento
            </a>
        </center>
        
        <div class="footer">
            <p>Este √© um e-mail autom√°tico de notifica√ß√£o. Por favor, n√£o responda a esta mensagem.</p>
            <p>&copy; {{ now().year }} Sistema de Agendamento - Todos os direitos reservados.</p>
            <p style="font-size: 0.8em; color: #999;">Enviado em {{ now().strftime('%d/%m/%Y √†s %H:%M') }}</p>
        </div>
    </div>
</body>
</html>